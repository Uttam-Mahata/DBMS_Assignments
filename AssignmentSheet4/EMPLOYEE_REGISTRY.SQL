CREATE DATABASE EMPLOYEE_REGISTRY;

USE EMPLOYEE_REGISTRY;

CREATE TABLE DEPARTMENT (
    DEPARTMENT_NO VARCHAR(8) CHECK ( DEPARTMENT_NO LIKE 'D%') PRIMARY KEY,
    DEPARTMENT_NAME ENUM ('ACCOUNTING', 'RESEARCH', 'SALES', 'OPERATIONS') NOT NULL
);

CREATE TABLE EMPLOYEE (
    EMPLOYEE_NO INT CHECK ( EMPLOYEE_NO > 7000 AND EMPLOYEE_NO < 8000 ) PRIMARY KEY,
    EMPLOYEE_NAME VARCHAR(50) NOT NULL,
    EMPLOYEE_JOB ENUM ('CLERK', 'SALESMAN', 'MANAGER', 'ANALYST', 'PRESIDENT') NOT NULL,
    EMPLOYEE_MANAGER INT,
    FOREIGN KEY (EMPLOYEE_MANAGER) REFERENCES EMPLOYEE(EMPLOYEE_NO),
    EMPLOYEE_HIREDATE DATE NOT NULL,
    EMPLOYEE_SALARY DECIMAL(7,2) NOT NULL,
    EMPLOYEE_COMM DECIMAL(7,2) CHECK ( EMPLOYEE_COMM < 1500 ) DEFAULT 0.00,
    DEPARTMENT_NO INT NOT NULL,
    FOREIGN KEY (DEPARTMENT_NO) REFERENCES DEPARTMENT(DEPARTMENT_NO)


);

